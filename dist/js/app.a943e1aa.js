(function(e){function t(t){for(var s,n,o=t[0],l=t[1],c=t[2],h=0,d=[];h<o.length;h++)n=o[h],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},i={app:0},r=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"01b7":function(e,t,a){},"348b":function(e,t,a){"use strict";a("6a60")},"3f14":function(e,t,a){},"568f":function(e,t,a){"use strict";a("c457")},"6a60":function(e,t,a){},ad11:function(e,t,a){},af3f:function(e,t,a){"use strict";a("e94f")},c457:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("router-view",{attrs:{table:this.table},on:{playersData:e.setPlayer,"update:tableData":e.setTable,"update:table":function(t){return e.$set(this,"table",t)}}})],1)],1)},r=[],n=a("d4ec"),o={modes:{PvP:"Player VS Player",PvC:"Player VS CPU"},stone:{color:{black:{code:"#000000",id:0},white:{code:"#ffffff",id:1}}},board:{size:{x:8,y:8}},square:{size:{x:8,y:8}},player:{validation:{name:{min:2,max:10}},number:{min:2,max:2},playerIndex:0,cpuIndex:1,cpuName:"CPU",initialScore:2},table:{phase:{thinking:0,skip:1,roundover:2}},localStorage:{table:"table",players:"players",turnCounter:"turnCounter",stones:"stones"},direction:{top:"top",left:"left",right:"right",bottom:"bottom",topLeft:"topLeft",topRight:"topRight",bottomLeft:"bottomLeft",bottomRight:"bottomRight"}},l=o,c=function e(){Object(n["a"])(this,e),this.players=null,this.turnCounter=0,this.phase=l.table.phase.thinking,this.board=null},u=c,h=s["a"].extend({name:"App",data:function(){return{table:{}}},methods:{setPlayer:function(e){this.table.players=e},setTable:function(e){this.table=e}},created:function(){this.table=new u}}),d=h,p=a("2877"),f=a("6544"),b=a.n(f),v=a("7496"),m=a("f6c4"),y=Object(p["a"])(d,i,r,!1,null,null,null),g=y.exports;b()(y,{VApp:v["a"],VMain:m["a"]});var w=a("f309");s["a"].use(w["a"]);var C=new w["a"]({}),S=a("8c4f"),x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-content game"},[a("v-container",{staticClass:"d-flex justify-center text-center"},[e.isXs?a("h2",{class:e.table.players[1]==e.currentPlayer?"player-font-turn":"player-font-turn-waiting"},[e._v(" "+e._s(e.table.players[1].name)+": "+e._s(e.table.players[1].score)+" ")]):e._e()]),a("v-container",{staticClass:"board"},[a("v-row",{staticClass:"d-flex justify-center"},[a("div",[a("div",[a("h2",[e._v(e._s(e.isGameFinished?"Game Finished!!...":"Play Othello!!"))]),a("div",{staticClass:"d-flex justify-start"},[a("h2",[e._v("Current Color:")]),0===e.currentPlayer.color.id?a("v-sheet",{staticClass:"ml-2 rounded-circle",attrs:{elevation:"12",height:"30",width:"30",color:"#000000"}}):a("v-sheet",{staticClass:"ml-2 rounded-circle",attrs:{elevation:"12",height:"30",width:"30",color:"#FFFFFF"}})],1)]),e._l(e.table.board.squares,(function(t,s){return a("div",{key:s,staticClass:"d-flex"},e._l(t,(function(t,s){return a("div",{key:s},[a("div",{staticClass:"board-square square-basicColor",attrs:{id:t.id},on:{click:function(a){return e.putStone(t)}}},[t.stone?a("StoneView",{attrs:{stone:t.stone}}):e._e(),!t.isAllowedToPlace||e.holdTime||e.holdTimeForCpu?e._e():a("Mark")],1)])})),0)}))],2)])],1),a("v-container",[e.isXs?a("v-row",{staticClass:"d-flex space-between text-center mb-5"},[a("v-col",[a("h2",{class:e.table.players[0]==e.currentPlayer?"player-font-turn":"player-font-turn-waiting"},[e._v(" "+e._s(e.table.players[0].name)+": "+e._s(e.table.players[0].score)+" ")])])],1):a("v-row",{staticClass:"d-flex space-between text-center mb-5"},e._l(e.table.players,(function(t){return a("v-col",{key:t.name},[a("h2",{class:t==e.currentPlayer?"player-font-turn":"player-font-turn-waiting"},[e._v(" "+e._s(t.name)+": "+e._s(t.score)+" ")])])})),1)],1),e.isGameFinished?a("PopUp",{attrs:{table:this.table},on:{resetGame:e.resetGame}}):e._e(),a("SkipDialog",{attrs:{skipDialog:e.skipDialog,player:e.currentPlayer}})],1)},k=[],P=a("1da1"),q=(a("96cf"),a("b64b"),a("b0c0"),a("e9c4"),a("d3b7"),a("159b"),function e(t){Object(n["a"])(this,e),this.color=t,this.isVisible=!0}),O=q,j=function e(){Object(n["a"])(this,e),this.name="",this.score=l.player.initialScore,this.color=l.stone.color.black,this.isCpu=!1,this.isSkipped=!1},_=j,T=a("2909"),E=a("bee2"),D=(a("d81d"),a("5a89")),z={camera:{position:{z:3}},light:{position:{x:-10,y:10,z:20}},othelloStone:{height:.26,jumpPower:.03,rotateSpeed:.05},sleepTime:1200},V=z,M=function(){function e(t,a,s){var i;Object(n["a"])(this,e),this.canvas=document.createElement("canvas"),this.square=document.getElementById(t),this.square.append(this.canvas),this.canvas.height=2*this.square.clientHeight,this.canvas.width=2*this.square.clientWidth,this.canvas.style.position="absolute",this.canvas.style.outline="none",this.canvas.style.top="".concat((this.square.clientHeight-this.canvas.height)/2,"px"),this.canvas.style.left="".concat((this.square.clientWidth-this.canvas.width)/2,"px"),this.scene=new D["f"],this.sizes={width:this.canvas.width,height:this.canvas.height},this.camera=new D["e"](75,this.sizes.width/this.sizes.height,.1,50),this.camera.position.z=V.camera.position.z,this.scene.add(this.camera);var r=V.othelloStone.height,o=new D["a"](1,1,r/2,50),l=new D["d"]({color:a}),c=new D["d"]({color:s}),u=new D["c"](o,l);u.position.y=r/4;var h=new D["c"](o,c);h.position.y=-r/4,this.othelloStone=new D["b"],this.othelloStone.add(u),this.othelloStone.add(h),this.othelloStone.castShadow=!0,this.othelloStone.receiveShadow=!0,this.othelloStone.rotation.x=.5*Math.PI,this.scene.add(this.othelloStone);var d=new D["g"](16777215);d.castShadow=!0,(i=d.position).set.apply(i,Object(T["a"])(Object.keys(V.light.position).map((function(e){return V.light.position[e]})))),d.shadow.mapSize.width=2048,d.shadow.mapSize.height=2048,this.scene.add(d),this.renderer=new D["h"]({canvas:this.canvas,alpha:!0}),this.renderer.shadowMap.enabled=!0,this.renderer.setSize(this.sizes.width,this.sizes.height),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.render(this.scene,this.camera)}return Object(E["a"])(e,[{key:"flip",value:function(e){var t=this,a=this.othelloStone.rotation.z+Math.PI,s=void 0,i=function i(){if(t.renderer.render(t.scene,t.camera),t.othelloStone.rotation.z>=a)return cancelAnimationFrame(s),t.othelloStone.rotation.z=a,t.othelloStone.position.z=0,t.remove(),void e();t.othelloStone.rotation.z<a-Math.PI/2?t.othelloStone.position.z+=V.othelloStone.jumpPower:t.othelloStone.position.z-=V.othelloStone.jumpPower,t.othelloStone.rotation.z+=.05,s=requestAnimationFrame(i)};i()}},{key:"remove",value:function(){this.canvas.remove()}}]),e}(),F=M,G=function e(){Object(n["a"])(this,e),this.top=!1,this.right=!1,this.bottom=!1,this.left=!1,this.topRight=!1,this.topLeft=!1,this.bottomRight=!1,this.bottomLeft=!1},R=G,I=function(){function e(t){Object(n["a"])(this,e),this.point=t,this.stone=null,this.isEmpty=!0,this.id=this.createId(t),this.isAllowedToPlace=!1,this.allowedDirections=new R,this.top=null,this.right=null,this.bottom=null,this.left=null,this.topRight=null,this.topLeft=null,this.bottomRight=null,this.bottomLeft=null}return Object(E["a"])(e,[{key:"createId",value:function(e){return String(e.x)+"-"+String(e.y)}}]),e}(),A=I,$=function e(t,a,s){Object(n["a"])(this,e),this.size=t,this.squares=a,this.enclosureController=s},N=$,B=function e(t){Object(n["a"])(this,e),this.next=null,this.prev=null,this.data=t},L=B,J=function(){function e(){Object(n["a"])(this,e),this.head=null,this.tail=null,this.hashmap={}}return Object(E["a"])(e,[{key:"addEnclosure",value:function(e){if(!this.hashmap[e.id]){var t=new L(e);null===this.head?(this.head=t,this.tail=this.head):(this.head.prev=t,t.next=this.head,this.head=t),this.hashmap[e.id]=t}}},{key:"updateFromSquare",value:function(e){if(null===e.stone)try{throw new Error("Provided square must include stone.")}catch(s){console.log(s)}for(var t in this.removeEnclosure(e),l.direction){var a=e[t];null!==a&&(null!==a.stone?this.removeEnclosure(a):this.hashmap[a.id]||this.addEnclosure(a))}}},{key:"addEnclosures",value:function(e){for(var t=["top","right","bottom","left","topRight","topLeft","bottomRight","bottomLeft"],a=0;a<t.length;a++){var s=e[t[a]];null===s||null!==s.stone||this.hashmap[s.id]||this.addEnclosure(s),this.removeEnclosure(e)}}},{key:"removeEnclosure",value:function(e){if(this.hashmap[e.id]){var t=this.hashmap[e.id];this.deleteEnclosure(t),delete this.hashmap[e.id]}}},{key:"deleteEnclosure",value:function(e){null===e.prev?this.popFrontEnclosure():null===e.next?this.popEnclosure():null!=e.prev&&null!=e.next&&(e.prev.next=e.next,e.next.prev=e.prev)}},{key:"getEnclosure",value:function(e){return this.hashmap[e.id]}},{key:"popFrontEnclosure",value:function(){this.head=null!=this.head?this.head.next:null,null!=this.head&&(this.head.prev=null)}},{key:"popEnclosure",value:function(){this.tail=null!=this.tail?this.tail.prev:null,null!=this.tail&&(this.tail.next=null)}},{key:"setHead",value:function(e){return this.head=e,this}},{key:"setTail",value:function(e){return this.tail=e,this}},{key:"setHashMap",value:function(e){return this.hashmap=e,this}}]),e}(),W=J,U=function(){function e(){Object(n["a"])(this,e),this.size={x:0,y:0},this.squares=[],this.enclosureController=new W}return Object(E["a"])(e,[{key:"setSize",value:function(e){return this.size=e,this}},{key:"setSquares",value:function(e){return this.squares=e,this}},{key:"setEnclosureController",value:function(e){return this.enclosureController=e,this}},{key:"createSquares",value:function(){for(var e=[],t=this.size.x-1,a=this.size.y-1,s=0;s<=a;s++){for(var i=[],r=0;r<=t;r++)i.push(new A({x:r,y:s}));e.push(i)}return this.setSquares(e),this}},{key:"linkSquaresNode",value:function(){for(var e=this.size.x-1,t=this.size.y-1,a=0;a<=t;a++)for(var s=0;s<=e;s++){var i=this.squares[a][s],r=a-1,n=s+1,o=s-1,l=a+1;a>0&&(i.top=this.squares[r][s]),s<e&&(i.right=this.squares[a][n]),a<t&&(i.bottom=this.squares[l][s]),s>0&&(i.left=this.squares[a][o]),s<e&&a>0&&(i.topRight=this.squares[r][n]),s>0&&a>0&&(i.topLeft=this.squares[r][o]),s<e&&a<t&&(i.bottomRight=this.squares[l][n]),s>0&&a<t&&(i.bottomLeft=this.squares[l][o])}return this}},{key:"build",value:function(){return new N(this.size,this.squares,this.enclosureController)}},{key:"reset",value:function(){return this.size={x:0,y:0},this.squares=[],this.enclosureController=new W,this}}]),e}(),H=U,X=function(){function e(){Object(n["a"])(this,e)}return Object(E["a"])(e,null,[{key:"saveTable",value:function(e){var t=JSON.stringify(e);localStorage.setItem(l.localStorage.table,t)}},{key:"fetchTable",value:function(){var e=localStorage.getItem(l.localStorage.table);return e?JSON.parse(e):{}}},{key:"clearData",value:function(){localStorage.clear()}},{key:"fetchPlayers",value:function(){var e=localStorage.getItem(l.localStorage.players);return e?JSON.parse(e):{}}},{key:"fetchTurnCounter",value:function(){var e=localStorage.getItem(l.localStorage.turnCounter);return e?parseInt(e):0}},{key:"fetchStones",value:function(){var e=localStorage.getItem(l.localStorage.stones);return e?JSON.parse(e):null}},{key:"saveGame",value:function(e){if(null!==e&&null!==e.board){for(var t=JSON.stringify(e.players),a=JSON.stringify(e.turnCounter),s={},i=0;i<l.square.size.y;i++)for(var r=0;r<l.square.size.x;r++){var n=e.board.squares[r][i];null!==n.stone&&(s[n.id]=n.stone)}var o=JSON.stringify(s);localStorage.setItem(l.localStorage.players,t),localStorage.setItem(l.localStorage.turnCounter,a),localStorage.setItem(l.localStorage.stones,o)}}}]),e}(),K=X,Q=function(){function e(t,a){Object(n["a"])(this,e),this.squares=[],this.player=t,this.enclosureController=a}return Object(E["a"])(e,[{key:"get",value:function(){return this.squares}},{key:"setAllowedDirectionsToSquare",value:function(e){e.allowedDirections=new R}},{key:"filterDicisions",value:function(){var e=this.enclosureController.head;while(null!==e&&null!==e.data){var t=e.data;this.isAbleToPlace(t)?(this.cacheAllowedDirections(t),t.isAllowedToPlace=!0,this.squares.push(t)):(this.setAllowedDirectionsToSquare(t),t.isAllowedToPlace=!1),e=e.next}return this}},{key:"cacheAllowedDirections",value:function(e){for(var t in this.setAllowedDirectionsToSquare(e),l.direction)this.willGetPoint(e,t)&&void 0!==e.allowedDirections&&(e.allowedDirections[t]=!0)}},{key:"isAbleToPlace",value:function(e){if(null!==e.stone)return!1;for(var t in l.direction)if(this.willGetPoint(e,t))return!0;return!1}},{key:"willGetPoint",value:function(e,t){var a=e[t];if(null===a||null===a.stone||a.stone.color.id===this.player.color.id)return!1;while(null!==a){if(null===a.stone)return!1;if(a.stone.color.id===this.player.color.id)return!0;a=a[t]}return!1}}]),e}(),Y=Q,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[a("div",{attrs:{id:"popup"}},[a("v-card",{staticClass:"d-flex justify-center",attrs:{id:"content"}},[a("div",[a("h1",{staticClass:"text-center"},[e._v(e._s(this.returnWinner()))]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-btn",{staticClass:"deep-purple accent-3 white--text mt-10 mr-md-5",attrs:{elevation:"24",block:""},on:{click:function(t){return e.redirectTop()}}},[e._v(" Top ")])],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-btn",{staticClass:"deep-purple accent-3 white--text mt-10 ml-md-5",attrs:{elevation:"24",block:""},on:{click:function(t){return e.redirectGame()}}},[e._v(" Retry ")])],1)],1)],1)])],1)])],1)},ee=[],te=s["a"].extend({name:"PopUp",data:function(){return{isVisible:!0}},props:{table:{type:Object}},methods:{openModal:function(){this.isVisible=!0},closeModal:function(){this.isVisible=!1},returnWinner:function(){return this.table.players[0].score===this.table.players[1].score?"Tie Breaker":this.table.players[0].score>this.table.players[1].score?this.table.players[0].name+" is Winner":this.table.players[1].name+" is Winner"},redirectTop:function(){var e=!0;this.$emit("resetGame",e),this.$router.push("/")},redirectGame:function(){var e=!1;this.$emit("resetGame",e)}},computed:{}}),ae=te,se=(a("d8b2"),a("8336")),ie=a("b0af"),re=a("62ad"),ne=a("169a"),oe=a("0fd9"),le=Object(p["a"])(ae,Z,ee,!1,null,null,null),ce=le.exports;b()(le,{VBtn:se["a"],VCard:ie["a"],VCol:re["a"],VDialog:ne["a"],VRow:oe["a"]});var ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"size-fill d-flex justify-center align-center"},[a("v-sheet",{staticClass:"mx-auto transition-swing rounded-circle stone-style",attrs:{elevation:"12",color:e.stone.color.code}})],1)},he=[],de=s["a"].extend({props:{stone:O},data:function(){return{}}}),pe=de,fe=(a("348b"),a("8dd9")),be=Object(p["a"])(pe,ue,he,!1,null,"ff6902aa",null),ve=be.exports;b()(be,{VSheet:fe["a"]});var me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"size-fill d-flex justify-center align-center"},[a("v-sheet",{staticClass:"mx-auto transition-swing rounded-circle mark-style pink lighten-4",attrs:{elevation:"12",color:"#F8BBD0"}})],1)},ye=[],ge=s["a"].extend({data:function(){return{}}}),we=ge,Ce=(a("e961"),Object(p["a"])(we,me,ye,!1,null,"00341947",null)),Se=Ce.exports;b()(Ce,{VSheet:fe["a"]});var xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("v-dialog",{model:{value:e.skipDialog,callback:function(t){e.skipDialog=t},expression:"skipDialog"}},[a("div",[a("div",{attrs:{id:"skip-dialog"}},[a("v-card",{staticClass:"d-flex justify-center",attrs:{id:"content"}},[a("div",[a("h1",{staticClass:"deep-purple-accent-3"},[e._v(">>>>>>>>>>>>>>>>>>>>>>>>")]),a("h1",{staticClass:"text-center m-3"},[e._v("Skip "+e._s(e.player.name)+" !")]),a("p",{staticClass:"text-center color-gray"},[e._v(" "+e._s(e.player.name)+" has no place to put his/her stone... ")]),a("h1",{staticClass:"deep-purple-accent-3"},[e._v(">>>>>>>>>>>>>>>>>>>>>>>>")])])])],1)])])],1)},ke=[],Pe=s["a"].extend({props:["skipDialog","player"]}),qe=Pe,Oe=(a("af3f"),Object(p["a"])(qe,xe,ke,!1,null,null,null)),je=Oe.exports;b()(Oe,{VCard:ie["a"],VDialog:ne["a"]});var _e=s["a"].extend({name:"Game",props:["table"],components:{SkipDialog:je,StoneView:ve,PopUp:ce,Mark:Se},data:function(){return{skipDialog:!1,playerDecisions:[],players:["Player1","Player2"],currentPlayer:new _,localStorageStones:{},flipCounter:0,isGameFinished:!1,holdTime:!1,holdTimeForCpu:!1}},created:function(){if(this.localStorageStones=K.fetchStones(),null!==this.localStorageStones&&0!==Object.keys(this.localStorageStones).length){this.table.players=K.fetchPlayers(),this.table.turnCounter=K.fetchTurnCounter();var e=this.createBoard();this.setBoardOnTable(e),this.setStonesOnTable(),this.validateTable(),this.currentPlayer=this.table.players[this.table.turnCounter%this.table.players.length],this.setPlayerDecisions(this.currentPlayer)}else{var t=this.createBoard();this.setBoardOnTable(t),this.validateTable(),this.currentPlayer=this.table.players[0],this.initialGame()}K.saveGame(this.table)},computed:{isXs:function(){return"xs"===this.$vuetify.breakpoint.name},currentPlayerColor:function(){return 0===this.currentPlayer.color.id?"Black":"White"}},methods:{validateTable:function(){null!=this.table&&null!=this.table.players&&null!=this.table.board||Qe.push("/")},saveLocalStorage:function(){var e=JSON.stringify(this.table);localStorage.setItem(l.localStorage.table,e)},clearLocalStorage:function(){localStorage.clear()},setTable:function(e){this.$emit("update:tableData",e)},createBoard:function(){var e=new H;return e.setSize({x:l.board.size.x,y:l.board.size.y}),e.createSquares(),e.linkSquaresNode(),e.setEnclosureController(new W),e.build()},setBoardOnTable:function(e){this.table.board=e},setStonesOnTable:function(){for(var e=0;e<l.square.size.y;e++)for(var t=0;t<l.square.size.x;t++){var a=this.table.board.squares[t][e];null!==a.id&&void 0!==this.localStorageStones[a.id]&&(a.stone=this.localStorageStones[a.id],a.isEmpty=!1,this.table.board.enclosureController.addEnclosures(a))}},initialGame:function(){console.log("start initializing game"),this.table.board.squares[3][3].stone=new O(l.stone.color.white),this.table.board.squares[4][4].stone=new O(l.stone.color.white),this.table.board.squares[3][4].stone=new O(l.stone.color.black),this.table.board.squares[4][3].stone=new O(l.stone.color.black),this.table.board.squares[3][3].isEmpty=!1,this.table.board.squares[4][4].isEmpty=!1,this.table.board.squares[3][4].isEmpty=!1,this.table.board.squares[4][3].isEmpty=!1,this.table.board.enclosureController.addEnclosure(this.table.board.squares[2][2]),this.table.board.enclosureController.addEnclosure(this.table.board.squares[2][3]),this.table.board.enclosureController.addEnclosure(this.table.board.squares[2][4]),this.table.board.enclosureController.addEnclosure(this.table.board.squares[2][5]),this.table.board.enclosureController.addEnclosure(this.table.board.squares[3][2]),this.table.board.enclosureController.addEnclosure(this.table.board.squares[3][5]),this.table.board.enclosureController.addEnclosure(this.table.board.squares[4][2]),this.table.board.enclosureController.addEnclosure(this.table.board.squares[4][5]),this.table.board.enclosureController.addEnclosure(this.table.board.squares[5][2]),this.table.board.enclosureController.addEnclosure(this.table.board.squares[5][3]),this.table.board.enclosureController.addEnclosure(this.table.board.squares[5][4]),this.table.board.enclosureController.addEnclosure(this.table.board.squares[5][5]),this.setPlayerDecisions(this.currentPlayer),console.log("end initilizing game")},setPlayerDecisions:function(e){this.playerDecisions=new Y(e,this.table.board.enclosureController).filterDicisions().get()},putStone:function(e){!e.isAllowedToPlace||this.holdTime||this.holdTimeForCpu||(e.stone=new O(this.currentPlayer.color),e.isAllowedToPlace=!1,e.isEmpty=!1,this.flipAllDirections(e),this.currentPlayer.score+=1,this.updateScore(),this.table.board.enclosureController.updateFromSquare(e),this.turnChange(),K.saveGame(this.table))},flipAllDirections:function(e){for(var t in e.allowedDirections)e.allowedDirections[t]&&this.flipOneDirection(e,t)},flipOneDirection:function(e,t){var a=e[t];while(null!==a&&null!==a.stone&&a.stone.color.id!==this.currentPlayer.color.id)this.flipStone(a,this.currentPlayer.color),this.flipCounter+=1,a=a[t]},flipStone:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t,a){var s,i,r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==t.stone){e.next=2;break}return e.abrupt("return");case 2:s=t.stone,i=s.color,s.color=a,s.isVisible=!1,r=new F(t.id,i.code,a.code),this.holdTime=!0,r.flip((function(){s.isVisible=!0,n.holdTime=!1}));case 9:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),turnChange:function(){var e=this;this.table.turnCounter+=1;var t=this.table.turnCounter%this.table.players.length;if(this.currentPlayer=this.table.players[t],this.setPlayerDecisions(this.currentPlayer),0===this.playerDecisions.length){this.currentPlayer.isSkipped=!0;var a=this.table.players.reduce((function(e,t){return e=!!t.isSkipped&&e,e}),!0),s=null==this.table.board.enclosureController.head;return s||a?void window.setTimeout((function(){e.isGameFinished=!0}),1e3):(this.skipDialog=!0,this.holdTime=!0,void window.setTimeout((function(){e.skipDialog=!1,e.holdTime=!1,e.turnChange()}),3e3))}this.table.players.forEach((function(e){return e.isSkipped=!1})),this.currentPlayer.isCpu&&this.cpuAlgorithm()},updateScore:function(){var e=(this.table.turnCounter+1)%this.table.players.length,t=this.table.players[e];this.currentPlayer.score+=this.flipCounter,t.score-=this.flipCounter,this.flipCounter=0},resetGame:function(e){if(this.isGameFinished=!1,this.table.board.size={x:0,y:0},this.table.board.squares=[],this.table.board.enclosureController=new W,this.table.turnCounter=0,K.clearData(),this.table.players.forEach((function(e){e.score=l.player.initialScore})),e)this.table.players=null;else{var t=this.createBoard();this.setBoardOnTable(t),this.currentPlayer=this.table.players[0],this.initialGame(),K.saveGame(this.table)}},cpuAlgorithm:function(){var e=this;if(console.log("hey"),this.currentPlayer.isCpu){var t=Math.floor(Math.random()*this.playerDecisions.length),a=this.playerDecisions[t];console.log(a),this.holdTimeForCpu=!0,window.setTimeout((function(){e.holdTimeForCpu=!1,e.putStone(a)}),2e3)}},clearData:function(){localStorage.clear()}}}),Te=_e,Ee=(a("568f"),a("a523")),De=Object(p["a"])(Te,x,k,!1,null,null,null),ze=De.exports;b()(De,{VCol:re["a"],VContainer:Ee["a"],VRow:oe["a"],VSheet:fe["a"]});var Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fill-height pa-1 login"},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"10",sm:"6",md:"4"}},[a("h1",{staticClass:"page-title"},[e._v("Select Mode")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-select",{staticClass:"mt-10",attrs:{label:"Game Mode",items:e.modes,rules:e.modeRules,"return-object":"",required:""},on:{change:function(t){return e.modeChange(t)}},model:{value:e.selectedMode,callback:function(t){e.selectedMode=t},expression:"selectedMode"}}),e.isPvPMode?a("div",e._l(e.players,(function(t,s){return a("div",{key:s},[a("v-text-field",{staticClass:"mt-10",attrs:{counter:e.Config.nameCounter,label:"Name (Player"+(s+1)+")",rules:e.nameRules,required:""},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"player.name"}})],1)})),0):a("div",[a("v-text-field",{staticClass:"mt-10",attrs:{counter:e.Config.nameCounter,label:"Name (Player"+(e.Config.player.playerIndex+1)+")",rules:e.nameRules,required:""},model:{value:e.players[e.Config.player.playerIndex].name,callback:function(t){e.$set(e.players[e.Config.player.playerIndex],"name",t)},expression:"players[Config.player.playerIndex].name"}})],1)],1),a("v-row",{staticClass:"d-flex justify-center mt-10 white--text"},[a("v-btn",{attrs:{color:"deep-purple accent-3 white--text"},on:{click:function(t){return e.redirect()}}},[e._v(" Game Start ")])],1)],1)],1)],1)},Me=[],Fe=(a("cb29"),s["a"].extend({name:"Login",data:function(){return{Config:l,selectedMode:"",firstPlayerIndex:0,modes:Object.keys(l.modes).map((function(e){return l.modes[e]})),players:new Array(l.player.number.min).fill({}).map((function(){return new _})),modeRules:[function(e){return!!e||"Mode is required"}],nameRules:[function(e){return!!e||"Name is required"},function(e){return e.length<=l.player.validation.name.max||"Name must be less than ".concat(l.player.validation.name.max," characters")},function(e){return e.length>=l.player.validation.name.min||"Name must be more than ".concat(l.player.validation.name.min," characters")}]}},methods:{log:function(){},modeChange:function(e){var t=this.players[this.players.length-1];switch(e){case l.modes.PvP:return void(t.isCpu=!1);case l.modes.PvC:return void(t.isCpu=!0);default:return}},shufflePlayers:function(){for(var e=this.players.length-1;0<e;e--){var t=Math.floor(Math.random()*(e+1)),a=this.players[e];this.players[e]=this.players[t],this.players[t]=a}},setPlayersColor:function(){for(var e=Object.keys(l.stone.color),t=0;t<this.players.length;t++){var a=this.players[t],s=e[t],i=l.stone.color[s];a.color=i,""===a.name&&(a.name=l.player.cpuName)}},validate:function(){return this.$refs.form.validate()},redirect:function(){this.setPlayersColor(),this.validate()&&(K.clearData(),this.sendPlayers(),this.$router.push("/game"))},sendPlayers:function(){this.$emit("playersData",this.players)}},computed:{isPvCMode:function(){return this.selectedMode===l.modes.PvC},isPvPMode:function(){return this.selectedMode===l.modes.PvP}}})),Ge=Fe,Re=(a("d6db"),a("4bd4")),Ie=a("b974"),Ae=a("8654"),$e=Object(p["a"])(Ge,Ve,Me,!1,null,null,null),Ne=$e.exports;b()($e,{VBtn:se["a"],VCol:re["a"],VForm:Re["a"],VRow:oe["a"],VSelect:Ie["a"],VTextField:Ae["a"]});var Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"d-flex justify-center align-center vh-100"},[a("div",[a("h1",{staticClass:"top mb-10"},[e._v("Othello")]),a("div",{staticClass:"d-flex justify-center"},[a("router-link",{staticClass:"button-link",attrs:{to:"/login"}},[a("v-btn",{staticClass:"deep-purple accent-3 white--text",attrs:{depressed:"",elevation:"24"}},[e._v(" Start ")])],1)],1)])])])},Le=[],Je=s["a"].extend({name:"Top"}),We=Je,Ue=(a("ff1f"),Object(p["a"])(We,Be,Le,!1,null,"b5081a0e",null)),He=Ue.exports;b()(Ue,{VBtn:se["a"]}),s["a"].use(S["a"]);var Xe=[{path:"/",component:He},{path:"/login",component:Ne},{path:"/game",component:ze}],Ke=new S["a"]({mode:"history",routes:Xe}),Qe=Ke;s["a"].config.productionTip=!1,new s["a"]({vuetify:C,router:Qe,render:function(e){return e(g)}}).$mount("#app")},d6db:function(e,t,a){"use strict";a("e67a")},d8b2:function(e,t,a){"use strict";a("ad11")},e67a:function(e,t,a){},e94f:function(e,t,a){},e961:function(e,t,a){"use strict";a("01b7")},ff1f:function(e,t,a){"use strict";a("3f14")}});
//# sourceMappingURL=app.a943e1aa.js.map